/******************************************************************************************
*
*   HEADER NAME:
*       tachometer.h
*
*   DESCRIPTION:
*       This includes headers for motor related procedures.
*
*   Created by Seongkwan Lee on Oct 27, 2020
*
******************************************************************************************/

#ifndef TACHOMETER_H_
#define TACHOMETER_H_

/*-----------------------------------------------------------------------------------------
                                    GENERAL INCLUDES
-----------------------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------------------
                                  DESIGN ASSURANCE LEVEL
-----------------------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------------------
                                         MACROS
-----------------------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------------------
                                    LITERAL CONSTANTS
-----------------------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------------------
                                           TYPES
-----------------------------------------------------------------------------------------*/

typedef uint8_t tach_dir_t8;
enum
    {
    TACH_DIR_FORWARD,               /* Wheel is making robot move  */
                                    /* forward                     */
    TACH_DIR_STOPPED,               /* Wheel is stopped            */
    TACH_DIR_REVERSE                /* Wheel is making robot move  */
                                    /* backward                    */
    };

/*-----------------------------------------------------------------------------------------
                                     PROJECT INCLUDES
-----------------------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------------------
                                     MEMORY CONSTANTS
-----------------------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------------------
                                        VARIABLES
-----------------------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------------------
                                       PROCEDURES
-----------------------------------------------------------------------------------------*/

/*---------------------------------------------------------
tachometer.c procedures.
---------------------------------------------------------*/

void tachometer_init
    (
    void
    );

void tachometer_reset
    (
    void
    );

void tachometer_get
    (
    uint16_t *          leftTach,
    tach_dir_t8 *       leftDir,
    int32_t *           leftSteps,
    uint16_t *          rightTach,
    tach_dir_t8 *       rightDir,
    int32_t *           rightSteps
    );

#endif /* TACHOMETER_H_ */
